name = "jules-over-telegram"
main = "src/index.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# Workers Paid plan required for cron triggers
# Free plan: 100,000 requests/day
# Paid plan: 10 million requests/month + $0.50 per additional million

# KV Namespace for multi-tenant storage
# Preview environment will use a separate KV namespace
[[kv_namespaces]]
binding = "KV"
id = "106406036996474b9497d9fdeaa96780"
preview_id = "6538ccd9726d459ca1e416ffbd41093e"

# Cron Triggers for automatic polling
# Note: Cron triggers require Workers Paid plan
[triggers]
crons = [
  "*/1 * * * *",   # Poll activities every 1 minute
  "*/15 * * * *"   # Sync sessions every 15 minutes
]

# Environment variables (use wrangler secret for sensitive data)
# Set BOT_TOKEN with: wrangler secret put BOT_TOKEN
[vars]
ENVIRONMENT = "production"
